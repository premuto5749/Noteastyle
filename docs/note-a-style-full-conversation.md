# Note-a-Style 프로젝트 전체 대화 요약

## 1. 프로젝트 배경 및 비전

### 업로드된 문서 분석
- **About Note-a-Style**: 뷰티샵(헤어/네일/피부/두피관리)을 위한 통합 플랫폼
- **핵심 문제**: 120,000개 업장이지만 예약관리에만 집중된 획일화된 솔루션 사용 중
- **Pain Point**: 관리 업무, 홍보/마케팅, 기자재 소싱을 모두 별도 관리 → 비용 증가 → 서비스 품질 저하

### 핵심 기능 (문서상)
1. **AI 페이스 스왑** - Stable Diffusion AI in-paint로 초상권 침해 없이 포트폴리오 생성
2. **AI 스타일 노트** - 사진 상에 시술 영역 기록
3. **AI 스타일러** - 고객에게 스타일 미리보기 제공
4. **AI 상담** - 24/7 고객 응대
5. **기자재 재고 관리**
6. **Value Chain 통합** - 원장, 디자이너, 고객, 기자재 사장 연결

---

## 2. 페이스 스왑 기술 검토

### 초기 질문: 클로드 코드로 구현 가능성
**답변**: 가능하지만 복잡함
- 직접 구현보다 **외부 API 활용 추천**
- DeepSwapAI, AKOOL, MagicHour AI 등 상업용 솔루션 존재

### 고품질 페이스 스왑 플랫폼
1. **DeepSwapAI**
   - 방송/프로덕션 스튜디오급
   - 4K 품질, 프레임 완벽 시간적 일관성
   - 비용: 월 $9.99로 20 크레딧 = 이미지당 약 $0.50

2. **AKOOL** (최종 선택)
   - 엔터프라이즈급
   - 4K 해상도, 1만+ 기업 사용
   - **무료 크레딧: 가입 시 100 크레딧** (25회 테스트 가능)
   - 이미지 1장당 4 크레딧 = 4장 생성
   - 상업적 사용 라이선스 포함

3. **MagicHour AI**
   - 4K 출력, 자동 조명 적응
   - 크리에이터 친화적

### 비용 계산
```
중형 헤어샵 (월 100장 처리):
- AKOOL: $0.50 × 100 = $50/월

플랫폼 규모 (100개 샵):
- 총 비용: $5,000/월
- 샵당 부담: $50/월 (구독료 내 포함 가능)
```

### 품질 테스트 결과
**업로드된 이미지 2장 분석** (이미 AKOOL로 처리된 결과물):
- Image 1 (여성 긴 머리): ⭐⭐⭐⭐☆ - 포트폴리오로 충분히 사용 가능
- Image 2 (남성 증명사진): ⭐⭐⭐⭐⭐ - 거의 완벽, 원본 구분 불가능

**결론: 상업적 사용 가능한 수준 확인됨**

---

## 3. 수익 모델 및 포지셔닝 고민

### 초기 고민: "샵에서 AKOOL 직접 쓰면 되는 거 아닌가?"

### 답변: 통합 플랫폼의 가치
**단순 페이스 스왑만으로는 부족**

| 기능 | AKOOL 단독 | Note-a-Style |
|------|------------|--------------|
| 페이스 스왑 | ✅ | ✅ |
| 고객 관리 | ❌ | ✅ |
| 시술 히스토리 | ❌ | ✅ |
| 예약 관리 | ❌ | ✅ |
| 재고 관리 | ❌ | ✅ |
| 기자재 구매 | ❌ | ✅ |

**실제 샵의 고통**:
```
월요일 오전:
- 카카오톡 예약 확인
- 네이버 예약 확인
- 인스타 DM 확인
- 엑셀에 고객 정보 정리
- 사진은 아이폰 앨범
- 포토샵으로 페이스 스왑
- 인스타 업로드
- 염색약 재고 확인, 도매상 전화
→ 하루 종일 이것만 하다 끝남
```

**Note-a-Style이 제공하는 것**:
"시술만 하세요. 나머지는 저희가 다 해드릴게요"

---

## 4. MVP 경량화 결정

### 현실 인식
- 기존 CRM (Handsos, 헤어짱): **월 2만원** (예약 중심)
- 전체 통합 플랫폼은 Phase 2-3로 미뤄야 함

### 경량화된 포지셔닝
**"시술 기록의 신"**
- 기존 CRM 위에 얹어지는 프리미엄 애드온
- 예약은 Handsos 그대로 사용
- **시술 내용을 제대로 기록하고 활용**하는 데 집중

### MVP 핵심 기능 (Phase 1)
1. ✅ 네이버 예약 연동 (고객 자동 생성)
2. ✅ **사진 기반 시술 기록** (핵심!)
3. ✅ AI 페이스 스왑 (프리미엄)
4. ✅ 포트폴리오 자동 생성

제외 (나중에):
- ❌ 재고 관리
- ❌ 기자재 마켓플레이스
- ❌ 수익 분석
- ❌ 복잡한 기능들

### 가격 전략
```
베이직: 월 5만원
- 무제한 시술 기록
- 스티커 얼굴 가림
- 기본 포트폴리오

프리미엄: 월 7만원
- 베이직 기능 전부
- AI 페이스 스왑 50장
- 고급 포트폴리오
- 우선 지원

→ Handsos(2만) + Note-a-Style(5만) = 7만원
→ 다른 솔루션 여러 개보다 저렴
```

---

## 5. 음성 기반 시술 기록 아이디어

### 혁신적 제안
"고객이랑 상담하고 시술하는 내용을 죄다 녹음해서 스크립트화"
- "노터스타일 로레알 7.1" → 자동 기록
- 김지은님 왔다 → "노터스타일 김지은님 기록" → 이어폰에서 읊어줌

### 기술적 가능성
**Web Speech API (무료)**
- 브라우저에서 직접 실시간 음성인식
- 코드 몇 줄, 서버 불필요
- 단점: Chrome 데스크톱 약 60초 제한, 품질 변동

**OpenAI Whisper API (유료, 고품질)**
- 분당 $0.006 (시간당 $0.36)
- GPT-4o Mini: 분당 $0.003 (50% 저렴)

**비용 계산**:
```
하루 8시간 풀 녹음:
- Whisper 표준: 8시간 × $0.36 = $2.88/일 → $63/월
- GPT-4o Mini: 8시간 × $0.18 = $1.44/일 → $32/월

하이브리드 전략:
- 일상 대화: Web Speech API (무료)
- 중요 기록: GPT-4o Mini로 재확인
→ 실제 비용: 월 $4-8
```

### 현실적인 허들 (중요!)

**1. 마이크 제어 문제**
```
원장: "어제 남편이랑 싸웠어" → 녹음됨 ❌
고객: "제 남편 바람피워요" → 녹음됨 ❌❌❌
→ 프라이버시 대참사
```

**2. 소음 문제**
- 드라이기 70-90dB
- 배경음악, 다른 고객 대화, 전화벨
→ 정확도 85% → 40%로 폭락

**3. 전문 용어 인식 실패**
```
"로레알 7.1" → "로열 7점 1" ❌
→ 결국 수동 수정 필요
```

**4. 다화자 문제**
- 원장, 조수, 고객 목소리 섞임
- Speaker Diarization 필요 (비용 2배)

**5. 법적/윤리적 문제**
- 녹음 사실 고지 필요
- 사전 동의 필요
- 개인정보보호법 이슈

**6. 실제 사용성**
```
이론: "노터스타일 로레알 7.1"
현실: "어... 노터스타일... 음... 이게 로레알이었나? 아니다..."
→ 쓰레기 데이터 양산
```

**7. 채택 장벽**
- 40대 이상: "복잡해", "그냥 손으로 적는 게 빠르네"
- 20-30대: "정확도 떨어지면 오히려 시간 낭비"

### 현실적인 해결책들

**Option A: 푸시 투 톡**
- 버튼 꾹 누르는 동안만 녹음
- 단점: 시술 중 손이 더러움

**Option B: 블루투스 이어폰 버튼**
- 이어폰 탭해서 녹음
- 단점: 배터리 관리, 분실

**Option C: 시술 후 일괄 입력** ⭐⭐⭐⭐⭐
```
시술 완료 후:
1. "기록하기" 버튼
2. 30초-1분 음성 설명
3. AI가 구조화해서 저장

장점:
- 프라이버시 OK
- 소음 적은 시간
- 정리된 상태로 말함
- 훨씬 정확함
```

**Option D: 초간단 버튼 UI** ⭐⭐⭐⭐⭐
```
태블릿 화면:
[ 염색약 ]  [ 펀 ]
[ 블리치 ]  [ 컷 ]

최근 사용:
🔴 로레알 7.1
🔴 웰라 8.0

→ 탭 2번으로 기록 완료 (1초)
→ 음성보다 빠르고 정확함
```

---

## 6. 바쁜 시간대 기록 방법

### 문제 제기
"고객들이 많다. 시술 끝나고 몰아서 할 수도 없는데?"

```
오전 10시: 김지은님 염색 시작
오전 11시: 박민지님 컷 시작 (김지은님 대기 중)
오전 11시 30분: 최수진님 펌 시작
→ 4명 동시 진행, 언제 기록해?
```

### 현실적인 해결책들

**Option 1: 타임라인 스냅샷 방식** ⭐⭐⭐⭐⭐
```
개념: 중요한 순간만 "찰칵"

1. 염색약 바를 때 사진 찍기
2. 자동 타임스탬프
3. 여유 있을 때 10초씩 음성 메모 추가
```

**Option 2: 스마트워치 탭** ⭐⭐⭐⭐
```
손목 탭 2번 → "로레알 7.1 뿌리" → 탭 2번 종료
- 더러운 손으로 안 만짐
- 진동으로 피드백
```

**Option 3: 에어팟 귀 터치** ⭐⭐⭐⭐
```
이어폰 길게 누름 → "로레알 7.1" → 다시 터치
- 손 안 씀
- 위생적
```

**Option 4: 발 페달** ⭐⭐⭐
```
USB 풋 스위치 ($20-30)
- 의사들 수술 중 녹음에 사용
- 발로 밟고 말하고 발 뗌
```

**Option 5: AI 어시스턴트 듣기만** ⭐⭐⭐
```
백그라운드에서 듣다가
"로레알", "웰라", "블리치" 키워드만 캡처
나머지는 즉시 삭제
```

**Option 6: 초간단 버튼 UI** ⭐⭐⭐⭐⭐ (가장 현실적)
```
큰 버튼 탭 (0.5초)
팔꿈치로도 가능
음성보다 빠르고 정확
```

**Option 7: 조수 활용** ⭐⭐⭐⭐
```
원장: "로레알 7.1"
조수: [태블릿에서 탭탭]
→ 2인 이상 샵에 적합
```

### 통합 솔루션
```
바쁜 시간 (10-14시):
→ 사진만 찍기 (0.5초 × 10장 = 5초)

한가한 시간 (14-16시):
→ 큰 버튼으로 제대로 기록 (5분)

저녁 정리 (마감 후):
→ 음성으로 빠르게 정리 (2분)
```

---

## 7. AI 시대답게 생각하기

### 최종 아이디어
"녹음하고 있다가 시술 끝나면 AI 인식이 돌아가고 그 부분만 기록"
"고객님 돌아가실 때 설명해주는 걸 적는 거지"

### AI 시대의 진짜 혁신
**컨셉**: "그냥 대화해. AI가 알아서 정리해줄게"

```
기존 사고: 녹음 → 버튼 → 명령어 → 저장
→ 인간이 기계에 맞춤

AI 시대: 그냥 일하면 돼. AI가 다 알아서
→ 기계가 인간에 맞춤
```

### 실제 시나리오

**시술 중 자연스러운 대화**:
```
원장: "오늘 어떻게 해드릴까요?"
고객: "뿌리 염색하고 싶어요"
원장: "지난번이 로레알 7.1이었는데 같은 걸로?"
고객: "네 좋았어요"
원장: "좋아요, 그럼 시작할게요"
[30분 경과]
원장: "다음엔 4주 후에 오시면 돼요"
```

**AI가 자동 추출**:
```json
{
  "customer": "김지은",
  "date": "2026-02-09 10:00",
  "service": "뿌리 염색",
  "product": "로레알 7.1",
  "duration": "30분",
  "satisfaction": "높음",
  "next_visit": "4주 후"
}
```

**핵심: 원장은 아무것도 안 했음!**

### 기술: OpenAI Structured Output

**GPT-4o Structured Output**:
- 개발자가 제공한 JSON 스키마를 100% 정확하게 따름
- 이전 모델: 40% 미만 정확도
- GPT-4o: 100% 정확도

```python
class TreatmentRecord(BaseModel):
    customer_name: str
    service_type: str
    products_used: List[str]
    area: Optional[str]
    duration_minutes: Optional[int]
    customer_satisfaction: Optional[str]
    next_visit_recommendation: Optional[str]

# AI에게 음성 → 구조화 요청
response = client.chat.completions.parse(
    model="gpt-4o",
    messages=[{
        "role": "user",
        "content": "김지은님 로레알 7.1 뿌리 염색, 30분"
    }],
    response_format=TreatmentRecord
)
# 자동으로 구조화된 데이터 반환!
```

### 비개발자를 위한 설명

**질문**: "녹음파일을 5분 단위로 생성? 트리거가 있으면 whisper가 돌아?"

**답변**: 아니요, 훨씬 간단합니다.

**방법 1: 계속 듣고만 있다가 중요한 말만 잡기**
- 마이크 항상 켜짐 (녹음은 안 함)
- "로레알" 들리면 그때부터 녹음
- 문제: 배터리 소모, 복잡함

**방법 2: 5분마다 자동 저장**
- 10:00-10:05 → 파일1
- 10:05-10:10 → 파일2
- 저녁에 AI가 각 파일 확인해서 시술 관련만 추출

**방법 3: 가장 간단한 방법** ⭐⭐⭐⭐⭐
```
시술 끝 → "기록하기" 버튼 → 30초 말함 → 끝

[앱 화면]
┌─────────────────────┐
│  [🎤 음성기록]      │
│  버튼 누르고        │
│  30초만 말하세요    │
└─────────────────────┘

"김지은님, 로레알 7.1, 뿌리 염색, 만족"

AI가 자동 정리:
┌──────────────────────┐
│ ✅ 기록 완료!        │
│ 고객: 김지은         │
│ 시술: 뿌리 염색      │
│ 제품: 로레알 7.1     │
│ [ 수정 ] [ 확인 ]   │
└──────────────────────┘
```

**녹음 파일 처리**:
```
1. 30초 녹음
2. 즉시 AI가 텍스트로 변환
3. 텍스트만 저장
4. 녹음 파일은 즉시 삭제

저장되는 것:
❌ 음성 파일 (용량 크고 위험)
✅ 텍스트만
```

**비용**:
```
하루:
- 10명 × 30초 = 5분
- $0.006 × 5 = $0.03 (3센트)

한 달:
- $0.03 × 22일 = $0.66
→ 1,000원도 안 됨!
```

---

## 8. 최종 방향 정리

### MVP 핵심 기능

**1. 시술 기록 (코어)**
- 방법 A: 큰 버튼 탭 (1초) - 1순위
- 방법 B: 사진만 찍기 (0.5초, 나중에 정리) - 2순위
- 방법 C: 음성 메모 (30초) - 3순위 (옵션)

**2. AI 페이스 스왑**
- AKOOL API 연동
- 품질 검증 완료 (⭐⭐⭐⭐☆)
- 월 50장 기본 제공

**3. 네이버 예약 연동**
- 고객 자동 생성
- 기존 CRM과 병행

**4. 포트폴리오 자동 생성**
- 페이스 스왑된 이미지 자동 정리
- SNS 공유 가능

### 제외된 기능 (Phase 2-3)
- 재고 관리
- 기자재 마켓플레이스
- 수익 분석
- AI 상담 챗봇

### 가격 정책
```
베이직: ₩49,000/월
- 시술 기록 무제한
- AI 페이스 스왑 30장
- 기본 포트폴리오

프리미엄: ₩79,000/월
- 베이직 +
- AI 페이스 스왑 100장
- 자동 SNS 포스팅
- 우선 지원
```

### 비용 구조 (샵 1개 기준)
```
원가:
- 음성 인식: $1/월
- 페이스 스왑: $25-50/월 (50-100장)
- 서버/DB: $5/월
- 총: $31-56/월 (₩41,000-74,000)

베이직 판매가: ₩49,000
→ 마진: ₩8,000-49,000

프리미엄 판매가: ₩79,000
→ 마진: ₩5,000-38,000
```

### 다음 스텝
1. ✅ 페이스 스왑 품질 확인 완료
2. [ ] MVP 개발 (2-3주)
   - 시술 기록 UI
   - AKOOL API 연동
   - 네이버 예약 API 연동
3. [ ] 베타 테스트 (2-3개 샵)
4. [ ] 피드백 반영 및 개선

---

## 9. 핵심 인사이트

### 음성 기록에 대한 결론
**음성인식은 "메인"이 아니라 "옵션 중 하나"**

우선순위:
1. 큰 버튼 탭 (1초) - 가장 빠르고 정확
2. 사진만 찍기 (0.5초) - 나중에 정리
3. 음성 메모 (30초) - 손 못 쓸 때만
4. 저녁 일괄 정리 - 기억력 좋은 사람

**MVP는 1+2번만 구현**

### AI 시대답게 생각하기
- 기존: 버튼 누르고 명령어 말하기
- **AI 시대**: 그냥 대화하면 AI가 알아서 정리
- Structured Output로 100% 정확한 데이터 추출

### 페이스 스왑의 가치
- 품질 검증 완료 (상업적 사용 가능)
- 초상권 문제 해결
- 포트폴리오 제작 가능
- **이것만으로도 충분한 차별점**

### 포지셔닝
"시술 기록의 신"
- 기존 CRM은 그대로 사용
- 시술 내용 기록과 포트폴리오에 집중
- 월 5-7만원 (기존 CRM + 3-5만원)

---

## 10. 기술 스택 요약

### Frontend
- PWA (Progressive Web App)
- Next.js
- 모바일/태블릿 최적화

### Backend
- FastAPI (Python)
- PostgreSQL
- AWS S3 (사진 저장)

### AI/API
- **음성 인식**: OpenAI Whisper API (gpt-4o-mini-transcribe)
- **구조화**: GPT-4o Structured Output
- **페이스 스왑**: AKOOL API
- **예약 연동**: 네이버 예약 API

### 예상 개발 기간
- Week 1: 기본 CRUD, UI/UX
- Week 2: 음성 기록, Structured Output 연동
- Week 3: AKOOL API 연동, 포트폴리오
- Week 4: 네이버 연동, 베타 테스트

---

## 부록: 주요 의사결정 과정

### 1. 왜 전체 플랫폼을 만들지 않나?
→ 경쟁사가 월 2만원, 너무 큰 범위는 실행 어려움
→ **시술 기록**이라는 명확한 차별점에 집중

### 2. 왜 음성을 메인으로 안 하나?
→ 허들이 너무 많음 (소음, 프라이버시, 정확도, 채택 장벽)
→ 큰 버튼 탭이 더 빠르고 정확함
→ 음성은 **옵션**으로 제공

### 3. 왜 페이스 스왑을 포함하나?
→ 품질 검증 완료
→ 초상권 문제 해결 = 명확한 가치
→ 포트폴리오 = SNS 마케팅 = 신규 고객 유치

### 4. 왜 네이버 예약 연동?
→ 기존 CRM과 경쟁하지 않음
→ 고객 데이터 자동 생성
→ 샵 입장에서 전환 장벽 낮음

### 5. 왜 Structured Output?
→ AI 시대답게 자연스러운 대화를 데이터로
→ 수동 파싱 불필요
→ 100% 정확도

---

## 11. 최종 요구사항 문서 작성

대화 마지막에 Claude Code Opus를 위한 요구사항 문서를 작성했습니다.

**파일명**: `note-a-style-requirements.md`

**주요 내용**:
- 프로젝트 개요 및 비전
- MVP 기능 우선순위
- 기술 스택 상세
- 데이터 스키마
- 사용 플로우
- 비용 구조
- 개발 일정

이 문서는 Claude Code Opus가 바로 개발을 시작할 수 있도록 구체적인 기술 스펙과 구현 방향을 담고 있습니다.