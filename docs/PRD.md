# PRD: Note-a-Style (노터스타일)

> Product Requirements Document v1.0
> 최종 업데이트: 2026-02-14

---

## 1. 제품 개요

### 1.1 제품명
**Note-a-Style (노터스타일)** -- "시술 기록의 신"

### 1.2 한줄 요약
뷰티샵(헤어/네일/피부/두피관리)의 **시술 기록 관리와 AI 포트폴리오 생성** 플랫폼

### 1.3 핵심 포지셔닝
기존 CRM(핸드SOS, 헤어짱, 스마일패드, 뷰카 등) 위에 얹어지는 **프리미엄 애드온**.
예약관리가 아닌 **시술 내용 기록과 AI 포트폴리오**에 집중.

### 1.4 Value Chain
```
원장님 (매장 운영) ←→ 디자이너님 (시술 기록) ←→ 고객님 (서비스 수혜) ←→ 기자재 사장님 (자재 공급)
```
이 4자를 하나의 플랫폼에서 연결하여 통합적인 서비스 생태계 조성.

---

## 2. 시장 배경 및 Pain Point

### 2.1 산업 규모
- 2024년 기준 뷰티 관련 업장 약 **120,000개** (생활서비스업종의 1/3, 부동산보다 많음)
- 서울 압구정부터 지방 읍내까지 전국에 분포
- K-뷰티는 세계적 영향력을 보유하지만 디지털/전산화가 크게 부족

### 2.2 현재 문제점

#### 획일화된 솔루션
- 기존 솔루션(핸드SOS, 헤어짱, 스마일패드, 뷰카, 공비서, 토스플레이스 등)은 **예약관리에만 집중**
- 관리 업무, 홍보/마케팅, 기자재 소싱을 모두 별도로 관리 → 비용 증가

#### 악순환 구조 (Vicious Cycle)
```
과도한 마케팅 비용 (인플루언서, 블로그, SNS)
    → 서비스 단가 상승
    → 디자이너 급여 절감
    → 기자재 비용 절감 (저렴한 재료 사용)
    → 소비자에게 피해 전가
    → 더 자극적인 마케팅 필요
    → (반복)
```

#### 구체적 문제
| 문제 | 설명 |
|------|------|
| 바가지 시술 | 외국인/내국인 가리지 않는 과잉 청구 |
| 전문성 부족 | 소비자 피해로 이어지는 비전문적 시술 |
| 비전문적 고객관리 | 기억이나 메모에 의존하는 고객 히스토리 관리 |
| 실력 검증 어려움 | 디자이너 역량을 객관적으로 판단할 수 없음 |
| 계약 부조리 | 디자이너를 착취하는 점주의 불공정 계약 |
| 깜깜이 기자재 시장 | 가격 정보 부족, 합리적 구매 어려움 |
| "샵 유목민" 현상 | 만족스러운 매장을 찾지 못해 떠도는 소비자 |

### 2.3 경쟁사 분석

| 솔루션 | 특징 | 한계 |
|--------|------|------|
| **핸드SOS (HandSOS)** | 고객관리, 예약관리, 매출관리, 네이버예약 연동 | 시술 기록/포트폴리오 기능 없음 |
| **헤어짱 (Hairzzang)** | 고객/영업 정보 분석, 매출/고객 동향 분석 | 예약 중심, AI 기능 없음 |
| **스마일패드 (SmilePad)** | 무료, 30가지+ 기능 (영업/매장/고객/예약 관리) | 범용적, 시술 기록 특화 아님 |
| **뷰카 (Vuka)** | 모바일+PC, 네이버예약, 자동문자, 매출분석 | 예약 중심 |
| **공비서** | 예약/고객 관리 | 시술 기록 깊이 부족 |
| **토스 플레이스** | 결제 연동, 매장 관리 | 뷰티 특화가 아닌 범용 솔루션 |
| **헤어인포 (HairInfo)** | 20년 CRM, PC+모바일 실시간 동기화 | 구형 UI, AI 기능 없음 |
| **SimplyBook.me** | 글로벌 예약 시스템, SNS 연동 | 해외 솔루션, 한국 시장 특화 부족 |

**노터스타일의 차별점**: 이들 모두가 **예약관리**에 집중하는 반면, 노터스타일은 **시술 기록 + AI 포트폴리오**라는 미개척 영역에 집중.

---

## 3. 타깃 사용자

### 3.1 주 타깃 (Primary)
| 페르소나 | 설명 | 핵심 니즈 |
|---------|------|----------|
| **원장님** (매장 대표) | 매장 운영/관리 총괄 | 효율적 매장 관리, 마케팅 비용 절감, 포트폴리오 |
| **디자이너** (시술 담당) | 실제 시술 수행자 | 빠른 시술 기록, 고객 히스토리, 자기 포트폴리오 |

### 3.2 보조 타깃 (Secondary)
| 페르소나 | 설명 | 핵심 니즈 |
|---------|------|----------|
| **고객** | 뷰티 서비스 소비자 | 스타일 미리보기, 신뢰할 수 있는 매장 선택 |
| **기자재 공급업체** | 기자재/제품 판매자 | 합리적 가격의 B2B 유통 채널 |

### 3.3 대상 매장 유형
- 헤어샵 (미용실)
- 네일샵
- 피부관리샵 (피부미용)
- 두피관리샵

---

## 4. 제품 비전 -- AI 핵심 기능

### 4.1 AI 페이스 스왑 (초상권 보호 포트폴리오)
- **기술**: Replicate API (`codeplugtech/face-swap` 모델) -- Stable Diffusion AI in-paint 기반
- **작동 방식**: 시술 사진의 안면 영역을 자동 인식 → AI로 자연스럽게 얼굴 교체
- **가치**: 초상권 침해 없이 풍성한 포트폴리오 생성, 모델 섭외 비용 제거
- **비용**: 건당 ~$0.0027, 월 100장 기준 ~$0.27

### 4.2 AI 스타일 노트 (시술 사진 위 기록)
- **작동 방식**: 시술 사진 위에 직접 시술 내용/영역 기록
- **가치**: 텍스트나 기억에만 의존하던 시술 관리를 시각적/누적적으로 고도화

### 4.3 AI 음성 메모 구조화
- **기술**: OpenAI Whisper (음성→텍스트) + GPT-4o Structured Output (텍스트→JSON)
- **작동 방식**: 30초 음성 녹음 → 자동으로 구조화된 시술 데이터 생성
- **가치**: 바쁜 시술 중에도 빠른 기록 가능
- **프라이버시**: 음성 파일은 텍스트 변환 후 즉시 삭제
- **비용**: 하루 10건 × 30초 = $0.03/일, $0.66/월

### 4.4 AI 스타일러 (미래)
- **기술**: AI 이미징 기술
- **작동 방식**: 고객에게 다양한 스타일 제안과 미리보기 제공
- **가치**: 상담 품질 향상, 고객 유치 능력 강화

### 4.5 AI 상담 챗봇 (미래)
- **작동 방식**: 24/7 자동 고객 응대 (부재중 전화 처리, 예약, Q&A)
- **가치**: 시술 중에도 고객 문의 누락 방지

---

## 5. 기능 요구사항

### 5.1 전체 기능 맵 (51개)

| 카테고리 | 기능 수 | 우선순위 배정 | 핵심 기능 |
|---------|---------|-------------|----------|
| 예약 (Reservation) | 5 | 5개 | 예약보드, 네이버연동, Drag&Drop |
| 고객관리 (CRM) | 7 | 3개 | 사진/동영상, 자동 모자이크, AI 얼굴변경 |
| 고객 (Customer-facing) | 10 | 0개 | 리뷰, 쿠폰, 회원권, 스타일 미리보기 |
| 설정 (Settings) | 9 | 1개 | 고객목록, 직원정보, 매장정보 |
| 자재 (Materials) | 10 | 0개 | 자재주문, 공동구매, 재고관리 |
| 구인구직 (Recruitment) | 5 | 0개 | 포트폴리오, 전자계약, 노무상담 |
| 홍보/소통 (Promotion) | 1 | 0개 | (미정) |
| 공급업체 (Vendor) | 4 | 0개 | 상품등록, 비교견적, 상위노출 |

### 5.2 Phase 1 -- MVP (현재 구현 중)

#### 1순위 (필수 -- Must Have)

| ID | 기능 | 상태 | 설명 |
|----|------|------|------|
| F-001 | 매장/고객/시술 CRUD | Done | 기본 데이터 관리 |
| F-002 | 빠른 시술 기록 | Done | 큰 버튼 UI, 1초 기록 (팔꿈치 가능) |
| F-003 | 상세 시술 기록 | Done | 제품, 부위, 시간, 만족도 입력 |
| F-004 | 시술 사진/영상 촬영 | Done | before/during/after + 영상 지원 |
| F-005 | 시술 사진 파일 업로드 | Done | Supabase Storage, 최대 10MB |
| F-006 | 음성 메모 AI 구조화 | API Done | Whisper + GPT-4o Structured Output |
| F-007 | AI 페이스 스왑 | API Done | Replicate 비동기 처리 + 폴링 |
| F-008 | 포트폴리오 생성/관리 | Done | 공개/비공개 토글, 갤러리 뷰 |
| F-009 | SNS 공유 | Done | Web Share API + 이미지 다운로드 폴백 |
| F-010 | 네이버 예약 ID 기록 | Done | 고객 생성 시 예약번호 입력 |

#### 2순위 (예정)

| ID | 기능 | 상태 | 설명 |
|----|------|------|------|
| F-011 | 예약 정보 입력 | Planned | 예약 데이터 기본 입력 |
| F-012 | 예약 보드 | Planned | 비주얼 스케줄링 뷰 (직원별 컬럼, 색상 코딩) |
| F-013 | 네이버 예약 연동 | Planned | 실시간 동기화, 고객 자동 생성 |
| F-014 | 예약 변경 Drag & Drop | Planned | 드래그로 시간/디자이너 변경 |
| F-015 | 자동 모자이크 | Planned | 수동 모자이크 우선, 이후 AI 자동화 |
| F-016 | 리뷰 게시 동의 + 쿠폰 | Planned | 동의 시 쿠폰 지급 인센티브 루프 |

### 5.3 Phase 2 -- 확장

| 카테고리 | 기능 |
|---------|------|
| 고객 | 리뷰 작성, 결제정보(쿠폰/회원권/자동결제), 디자이너 정보 열람 |
| 설정 | 고객목록 불러오기/내보내기, 블랙리스트, 직급설정, 시술목록 관리 |
| 분석 | 매출 분석, 고객 동향 분석 |
| AI | AI 스타일러 (스타일 미리보기) |
| 알림 | 메시지/알림톡/푸쉬 알림 시스템 |

### 5.4 Phase 3 -- 플랫폼화

| 카테고리 | 기능 |
|---------|------|
| 자재 | 자재목록, 견적받기, 장바구니, 공동구매(1인 매장 지원), 월 구독, 업체목록 |
| 자재관리 | 주문관리, 구독관리, 평균단가, 주문수량 연동 |
| 구인구직 | 디자이너 포트폴리오, 채용공고 게시, 전자계약, 노무상담 |
| 공급업체 | 상품등록, 비교견적 제출, 리스트 상위노출, 구독관리 |
| AI | AI 상담 챗봇 (24/7 자동응대) |
| 예약 고급 | 전화기록 분석 자동생성 (3순위) |

---

## 6. 핵심 사용자 플로우

### 6.1 시술 기록 입력 (Core Flow)

바쁜 뷰티샵 환경에 최적화된 세 가지 입력 방식:

| 우선순위 | 방법 | 소요 시간 | 시나리오 |
|---------|------|----------|---------|
| 1순위 | 큰 버튼 탭 | 1초 | 바쁜 시간(10-14시), 팔꿈치/장갑 착용 중 |
| 2순위 | 사진/영상 촬영 | 3초 | 시술 직후 즉시 기록, 타입 자동 "after" |
| 3순위 | 음성 메모 | 30초 | 한가한 시간, 시술 후 일괄 정리 |

```
시술 완료
  │
  ├─ [방법 A] 빠른 기록 (/record)
  │   고객명 입력 → 시술 종류 탭 → (제품 선택) → 저장 → 사진 촬영
  │
  ├─ [방법 B] 상세 기록 (/treatments/new)
  │   고객명 + 전화번호 → 시술 종류 + 상세 → 제품/부위/시간/가격 → 저장 → 사진 촬영
  │
  └─ [방법 C] 음성 메모 (/record 내 VoiceMemo)
      녹음 30초 → Whisper → GPT-4o → 자동 폼 채우기 → 저장
```

### 6.2 AI 페이스 스왑 플로우

```
시술 사진 확인 (/treatments/[id])
  └→ "AI 페이스 스왑" 버튼 클릭
      └→ 소스 얼굴 이미지 업로드
          └→ POST /api/face-swap (Replicate API)
              └→ 3초 간격 폴링 (GET /api/face-swap/status/{id})
                  └→ 완료 시 face_swapped_url 자동 저장
                      └→ 원본/AI변환 나란히 표시
```

### 6.3 포트폴리오 플로우

```
시술 상세 페이지 → "포트폴리오 추가" 클릭
  └→ 포트폴리오 갤러리에 등록
      └→ 공개/비공개 토글
          └→ SNS 공유 (Web Share API)
```

---

## 7. 비기능 요구사항

### 7.1 성능
- 빠른 기록 페이지 로딩: 1초 이내
- 사진 업로드: 10MB 이하, 3초 이내
- 음성 메모 처리: 30초 녹음 기준 10초 이내 구조화 완료

### 7.2 플랫폼
- **PWA**: 모바일/태블릿 최적화 (max-width: 480px)
- 브라우저: Chrome, Safari (iOS/Android), Samsung Internet
- 오프라인 지원: Phase 2에서 Service Worker 도입 예정

### 7.3 프라이버시/보안
- 음성 파일은 텍스트 변환 후 **즉시 삭제**
- 고객 개인정보 (전화번호, 생년월일) DB 저장
- 인증/인가: Phase 2에서 Supabase Auth 도입 예정
- 매장 간 데이터 격리 (shop_id 기반)

### 7.4 확장성
- MVP: 단일 매장 모드 (NEXT_PUBLIC_SHOP_ID 환경변수)
- 향후: 멀티 매장, 멀티 테넌트 지원

---

## 8. 가격 정책

| 플랜 | 가격 | 주요 기능 |
|------|------|----------|
| **Basic** | 49,000원/월 | 무제한 시술 기록, AI 페이스 스왑 30장/월, 기본 포트폴리오 |
| **Premium** | 79,000원/월 | Basic + AI 페이스 스왑 100장/월, 자동 SNS 포스팅, 우선 지원 |

### 원가 구조 (샵 1개 기준)
| 항목 | 월 비용 |
|------|---------|
| 음성 인식 (Whisper) | ~$1 |
| 페이스 스왑 (Replicate) | ~$0.27 (100장) |
| Vercel + Supabase | $0 (Free) ~ $45 (Pro) |
| **총 원가** | **~$1-46 (1,300-61,000원)** |

---

## 9. 성공 지표 (KPI)

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 일 시술 기록 수 | 10건+ / 매장 | treatments 테이블 카운트 |
| 시술 기록 작성 시간 | 평균 5초 이내 | 빠른 기록 완료까지 시간 |
| AI 페이스 스왑 사용률 | 월 30장+ / 매장 | face_swapped_url 비율 |
| 포트폴리오 공개 수 | 월 10개+ / 매장 | is_published 카운트 |
| MAU | 100매장 (1년 내) | 활성 shop_id 수 |

---

## 10. 기술 스택

| 레이어 | 기술 | 이유 |
|--------|------|------|
| Frontend | Next.js 15 (App Router) + React 19 | SSR/SSG + API Routes 일체형 |
| Language | TypeScript 5 | 프론트/백엔드 타입 통일 |
| Styling | Tailwind CSS v4 | 유틸리티 기반, PWA 모바일 최적 |
| Database | Supabase (PostgreSQL) | 무료 티어, Storage 포함 |
| Storage | Supabase Storage | 사진/영상 저장 |
| AI - 음성 | OpenAI Whisper | 음성→텍스트 ($0.006/분) |
| AI - 구조화 | GPT-4o Structured Output | 텍스트→JSON (Zod 스키마) |
| AI - 이미지 | Replicate API | 페이스 스왑 ($0.0027/건) |
| 배포 | Vercel | Next.js 최적 호스팅 |
| PWA | manifest.json | 모바일 앱 경험 |

---

## 부록: 기능 의존성 맵

```
얼굴 변경 (Face Change)
  ├── 자동 모자이크 (Auto Mosaic) -- 수동 모자이크 우선 제공
  └── AI 얼굴 변경 (AI Face Swap) -- Replicate API

리뷰 게시 동의 (Review Consent) ←→ 쿠폰 (Coupon)
  [동의 시 쿠폰 지급 → 유기적 리뷰 생성 루프]

공동구매 (Group Purchase)
  └── 1인 매장 지원 → 대량 구매 가격 혜택

디자이너 포트폴리오 (구인구직)
  └── AI 페이스 스왑 + 시술 기록 데이터 활용
```
