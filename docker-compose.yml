# 로컬 개발용 Docker Compose (간이 환경)
#
# 권장: Supabase CLI 사용 (npx supabase start)
# 이 파일은 Supabase CLI 없이 간이로 DB만 띄울 때 사용합니다.
# Supabase JS 클라이언트의 전체 기능(Storage, Auth 등)은
# Supabase CLI 로컬 인스턴스에서만 지원됩니다.
#
# 사용법:
#   docker compose up -d
#   cd frontend && npm run dev

services:
  db:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: noteastyle
      POSTGRES_USER: noteastyle
      POSTGRES_PASSWORD: noteastyle
    ports:
      - "5432:5432"
    volumes:
      - pgdata:/var/lib/postgresql/data
      - ./supabase/migrations:/docker-entrypoint-initdb.d

volumes:
  pgdata:
